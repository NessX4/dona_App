{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Publicar Donación | DONA</title>
    <link rel="stylesheet" href="{% static 'CSS/PublicarDonacion.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      /* Estilo temporal para el subrayado - Debería moverse al CSS principal */
      .dashboard-header h1 {
        position: relative;
        display: inline-block;
        padding-bottom: 8px;
      }

      .dashboard-header h1::after {
        content: "";
        position: absolute;
        bottom: -8px;
        left: 0;
        width: 60px;
        height: 4px;
        background: var(
          --primary,
          #c00107
        ); /* Fallback a rojo si --primary no está definido */
        border-radius: 2px;
      }
    </style>
  </head>
  <body>
        <div class="sidebar">
      <div class="logo">
        <img src="{% static 'img/Dona.jpg' %}" alt="Logo DONA" />
        <span>DONA</span>
      </div>
      <ul class="menu">
        <li>
          <a href="{% url 'landing' %}"
            ><i class="fas fa-tachometer-alt"></i> Dashboard</a
          >
        </li>
        <li class="active">
          <a href="{% url 'publicardoonacion' %}"
            ><i class="fas fa-plus-circle"></i> Publicar Donación</a
          >
        </li>
        <li >
          <a href="{% url 'Donaciones' %}"
            ><i class="fas fa-donate"></i> Mis Donaciones</a
          >
        </li>
        <li>
          <a href="{% url 'perfil' %}"><i class="fas fa-user"></i> Perfil</a>
        </li>
        <li>
          <a href="{% url 'notificaciones' %}"
            ><i class="fas fa-bell"></i> Notificaciones</a
          >
        </li>
        <li>
          <a href="{% url 'logout' %}"
            ><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a
          >
        </li>
      </ul>
    </div>

    <div class="main-content">
      <div class="dashboard-header">
        <h1>Publicar <span class="highlight">Nueva Donación</span></h1>
        <div class="user-info">
          <img
            src="https://via.placeholder.com/40"
            alt="Usuario"
            class="user-avatar"
          />
          <span class="user-name">Restaurante Ejemplo</span>
        </div>
      </div>

      <div class="dashboard-card">
        <form id="donationForm">
          <div class="form-group">
            <label for="donation-title">Título de la donación</label>
            <input
              type="text"
              id="donation-title"
              placeholder="Ej: Panadería surtida"
              required
            />
          </div>

          <div class="form-group">
            <label for="donation-description">Descripción</label>
            <textarea
              id="donation-description"
              rows="4"
              placeholder="Describa los artículos que está donando..."
              required
            ></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="donation-type">Tipo de alimento</label>
              <select id="donation-type" required>
                <option value="">Seleccione un tipo</option>
                <option value="panaderia">Panadería</option>
                <option value="frutas">Frutas/Verduras</option>
                <option value="preparados">Alimentos preparados</option>
                <option value="lacteos">Lácteos</option>
                <option value="otros">Otros</option>
              </select>
            </div>
            <div class="form-group">
              <label for="donation-quantity">Cantidad aproximada</label>
              <input
                type="text"
                id="donation-quantity"
                placeholder="Ej: 10 cajas, 5 kg"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="donation-image">Imagen (opcional)</label>
            <div class="image-upload">
              <label for="donation-image" class="upload-btn">
                <i class="fas fa-camera"></i> Seleccionar imagen
              </label>
              <input type="file" id="donation-image" accept="image/*" />
              <div class="image-preview" id="imagePreview"></div>
            </div>
          </div>

          <div class="form-group">
            <label for="donation-expiry">Fecha de disponibilidad</label>
            <input type="datetime-local" id="donation-expiry" required />
          </div>

          <div class="button-wrapper">
            <button type="submit" class="main-button">
              <i class="fas fa-paper-plane"></i> Publicar Donación
            </button>
          </div>
        </form>
      </div>

      <script>
        // Script para vista previa de imagen
        const imageUpload = document.getElementById("donation-image");
        const imagePreview = document.getElementById("imagePreview");

        imageUpload.addEventListener("change", function () {
          const file = this.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              imagePreview.innerHTML = `<img src="${e.target.result}" alt="Vista previa">`;
            };
            reader.readAsDataURL(file);
          }
        });
      </script>
    </div>
  </body>
</html>
